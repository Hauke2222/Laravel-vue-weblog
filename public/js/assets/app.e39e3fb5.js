import{a as t,V as e,b as s,i as a}from"./vendor.b9526735.js";function o(t,e,s,a,o,r,n,i){var l,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=s,u._compiled=!0),a&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),n?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},u._ssrRegister=l):o&&(l=i?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(u.functional){u._injectStyles=l;var d=u.render;u.render=function(t,e){return l.call(e),d(t,e)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:u}}const r={};var n=o({data:()=>({message:"Laravel vue weblog"}),methods:{logout(){t.post("logout").then((t=>{console.log(t)}))}}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",[s("ul",[t._m(0),t._m(1),s("li",[s("router-link",{attrs:{to:{name:"Login"}}},[t._v("Login")])],1),s("li",[s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Logout")])])])]),s("div",[s("h1",{staticClass:"center"},[t._v(t._s(t.message))]),s("router-view")],1)])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{attrs:{href:"/"}},[t._v("Posts")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{attrs:{href:"#/create"}},[t._v("Create")])])}],!1,i,null,null,null);function i(t){for(let e in r)this[e]=r[e]}var l=function(){return n.exports}();const u={};var d=o({computed:{posts(){return this.$store.getters.getPosts}},mounted(){this.$store.dispatch("getAllPosts")}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.posts,(function(e,a){return s("ul",{key:a,attrs:{id:"cardList"}},[s("br"),s("div",{staticClass:"center"},[s("div",{staticClass:"card"},[s("li",{staticClass:"card-li"},[s("router-link",{attrs:{to:{name:"Show",params:{postId:e.id,title:e.title}}}},[s("div",{staticClass:"post-card-img"},[s("img",{staticClass:"post-card-img",attrs:{src:e.image}})]),s("div",{staticClass:"post-card-title"},[t._v(t._s(e.title))]),s("div",{staticClass:"post-card-author-date"},[t._v(" "+t._s(e.author+e.date)+" ")])])],1)])]),s("br")])})),0)}),[],!1,c,null,null,null);function c(t){for(let e in u)this[e]=u[e]}var p=function(){return d.exports}();const m={};var v=o({data:()=>({fields:{title:"",date:"",author:"",content:"",image:""},errors:{}}),methods:{submit(){const t=new FormData;t.append("image",this.fields.image),t.append("title",this.fields.title),t.append("date",this.fields.date),t.append("author",this.fields.author),t.append("content",this.fields.content),this.$store.dispatch("createPost",t)},saveImg(t){this.fields.image=t.target.files[0]}}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-body"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"title"}},[t._v("Titel")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.title,expression:"fields.title"}],staticClass:"form-control",attrs:{type:"text",name:"title",id:"title"},domProps:{value:t.fields.title},on:{input:function(e){e.target.composing||t.$set(t.fields,"title",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"date"}},[t._v("Datum")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.date,expression:"fields.date"}],staticClass:"form-control",attrs:{type:"date",name:"date",id:"date"},domProps:{value:t.fields.date},on:{input:function(e){e.target.composing||t.$set(t.fields,"date",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"author"}},[t._v("Auteur")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.author,expression:"fields.author"}],staticClass:"form-control",attrs:{type:"author",name:"author",id:"author"},domProps:{value:t.fields.author},on:{input:function(e){e.target.composing||t.$set(t.fields,"author",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"content"}},[t._v("Tekst")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.fields.content,expression:"fields.content"}],staticClass:"form-control",attrs:{name:"content",id:"content",rows:"5"},domProps:{value:t.fields.content},on:{input:function(e){e.target.composing||t.$set(t.fields,"content",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"image"}}),s("input",{attrs:{type:"file",name:"image"},on:{change:t.saveImg}})]),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Send")])])])}),[],!1,f,null,null,null);function f(t){for(let e in m)this[e]=m[e]}var h=function(){return v.exports}();const g={};var _=o({computed:{post(){return this.$store.getters.getOnePost}},mounted(){this.$store.dispatch("getOnePost",this.$route.params.postId)}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v(t._s(this.$route.params.postId))]),t._l(t.post,(function(e,a){return s("div",{key:a},[s("h1",[t._v(t._s(e.title))]),s("h2",[t._v(t._s(e.date))]),s("h4",[t._v("Author: "+t._s(e.author))]),s("img",{staticClass:"responsive-img",attrs:{src:e.image}}),s("p",[t._v(t._s(e.content))])])}))],2)}),[],!1,C,null,null,null);function C(t){for(let e in g)this[e]=g[e]}var b=function(){return _.exports}();const w={};var P=o({data:()=>({email:"",password:"",submitted:!1,loginResponse:"",userResponse:""}),created(){this.getUser()},methods:{getUser(){t.get("api/user").then((t=>{this.userResponse=t}))},handleSubmit(){this.submitted=!0;const{email:e,password:s}=this;t.post("login",{email:e,password:s}).then((t=>{E.push({name:"Home"})})).catch((t=>{this.loginResponse=t}))}}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Login")]),s("div",[t._v("Login response: "+t._s(t.loginResponse))]),s("div",[t._v("GET api/user response: "+t._s(t.userResponse))]),s("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[t._v("Email address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",required:"",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{htmlFor:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",required:"",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._m(0)])])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary"},[t._v("Login")])])}],!1,$,null,null,null);function $(t){for(let e in w)this[e]=w[e]}var S=function(){return P.exports}();e.use(s);var E=new s({routes:[{path:"/",component:p,name:"Home"},{path:"/create",component:h},{path:"/show/:postId",component:b,name:"Show"},{path:"/login",component:S,name:"Login"}]});e.use(a);new e({el:"#app",store:new a.Store({state:{posts:[],detailPost:[]},mutations:{SET_POSTS(t,e){t.posts=e},SET_DETAIL_POST(t,e){t.detailPost=e}},actions:{getAllPosts({commit:e}){t.get("api/posts").then((t=>{e("SET_POSTS",t.data.posts)}))},getOnePost({commit:e},s){t.get("api/posts/"+s).then((t=>{e("SET_DETAIL_POST",t.data)}))},createPost({commit:e},s){t.post("api/posts",s).then((t=>{e("SET_POSTS",t.data.posts),E.push({name:"Home"})}))}},getters:{getPosts:t=>t.posts,getOnePost:t=>t.detailPost}}),router:E,render:t=>t(l)});
